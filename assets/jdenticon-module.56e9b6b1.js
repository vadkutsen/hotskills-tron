function S(s,n,t){return parseInt(s.substr(n,t),16)}function D(s){return s|=0,s<0?"00":s<16?"0"+s.toString(16):s<256?s.toString(16):"ff"}function j(s,n,t){return t=t<0?t+6:t>6?t-6:t,D(255*(t<1?s+(n-s)*t:t<3?n:t<4?s+(n-s)*(4-t):s))}function x(s){if(/^#[0-9a-f]{3,8}$/i.test(s)){let n;const t=s.length;if(t<6){const r=s[1],o=s[2],i=s[3],e=s[4]||"";n="#"+r+r+o+o+i+i+e+e}return(t==7||t>8)&&(n=s),n}}function L(s){const n=S(s,7,2);let t;if(isNaN(n))t=s;else{const r=S(s,1,2),o=S(s,3,2),i=S(s,5,2);t="rgba("+r+","+o+","+i+","+(n/255).toFixed(2)+")"}return t}function X(s,n,t){let r;if(n==0){const o=D(t*255);r=o+o+o}else{const o=t<=.5?t*(n+1):t+n-t*n,i=t*2-o;r=j(i,o,s*6+2)+j(i,o,s*6)+j(i,o,s*6-2)}return"#"+r}function N(s,n,t){const r=[.55,.5,.5,.46,.6,.55,.55],o=r[s*6+.5|0];return t=t<.5?t*o*2:o+(t-.5)*(1-o)*2,X(s,n,t)}const Q=typeof window!="undefined"?window:typeof self!="undefined"?self:typeof global!="undefined"?global:{},R={V:"jdenticon_config",n:"config"};var B={};function et(s){return arguments.length&&(B[R.n]=s),B[R.n]}function V(s,n){const t=typeof s=="object"&&s||B[R.n]||Q[R.V]||{},r=t.lightness||{},o=t.saturation||{},i="color"in o?o.color:o,e=o.grayscale,h=t.backColor,u=t.padding;function f(b,c){let d=r[b];return d&&d.length>1||(d=c),function(a){return a=d[0]+a*(d[1]-d[0]),a<0?0:a>1?1:a}}function g(b){const c=t.hues;let d;return c&&c.length>0&&(d=c[0|.999*b*c.length]),typeof d=="number"?(d/360%1+1)%1:b}return{W:g,o:typeof i=="number"?i:.5,D:typeof e=="number"?e:0,p:f("color",[.4,.8]),F:f("grayscale",[.3,.9]),G:x(h),X:typeof s=="number"?s:typeof u=="number"?u:n}}class y{constructor(n,t){this.x=n,this.y=t}}class Y{constructor(n,t,r,o){this.q=n,this.t=t,this.H=r,this.Y=o}I(n,t,r,o){const i=this.q+this.H,e=this.t+this.H,h=this.Y;return h===1?new y(i-t-(o||0),this.t+n):h===2?new y(i-n-(r||0),e-t-(o||0)):h===3?new y(this.q+t,e-n-(r||0)):new y(this.q+n,this.t+t)}}const z=new Y(0,0,0,0);class l{constructor(n){this.J=n,this.u=z}g(n,t){const r=t?-2:2,o=[];for(let i=t?n.length-2:0;i<n.length&&i>=0;i+=r)o.push(this.u.I(n[i],n[i+1]));this.J.g(o)}h(n,t,r,o){const i=this.u.I(n,t,r,r);this.J.h(i,r,o)}i(n,t,r,o,i){this.g([n,t,n+r,t,n+r,t+o,n,t+o],i)}j(n,t,r,o,i,e){const h=[n+r,t,n+r,t+o,n,t+o,n,t];h.splice((i||0)%4*2,2),this.g(h,e)}K(n,t,r,o,i){this.g([n+r/2,t,n+r,t+o/2,n+r/2,t+o,n,t+o/2],i)}}function tt(s,n,t,r){s=s%14;let o,i,e,h,u,f;s?s==1?(e=0|t*.5,h=0|t*.8,n.j(t-e,0,e,h,2)):s==2?(e=0|t/3,n.i(e,e,t-e,t-e)):s==3?(u=t*.1,f=t<6?1:t<8?2:0|t*.25,u=u>1?0|u:u>.5?1:u,n.i(f,f,t-u-f,t-u-f)):s==4?(i=0|t*.15,e=0|t*.5,n.h(t-e-i,t-e-i,e)):s==5?(u=t*.1,f=u*4,f>3&&(f=0|f),n.i(0,0,t,t),n.g([f,f,t-u,f,f+(t-f-u)/2,t-u],!0)):s==6?n.g([0,0,t,0,t,t*.7,t*.4,t*.4,t*.7,t,0,t]):s==7?n.j(t/2,t/2,t/2,t/2,3):s==8?(n.i(0,0,t,t/2),n.i(0,t/2,t/2,t/2),n.j(t/2,t/2,t/2,t/2,1)):s==9?(u=t*.14,f=t<4?1:t<6?2:0|t*.35,u=t<8?u:0|u,n.i(0,0,t,t),n.i(f,f,t-f-u,t-f-u,!0)):s==10?(u=t*.12,f=u*3,n.i(0,0,t,t),n.h(f,f,t-u-f,!0)):s==11?n.j(t/2,t/2,t/2,t/2,3):s==12?(i=t*.25,n.i(0,0,t,t),n.K(i,i,t-i,t-i,!0)):!r&&(i=t*.4,e=t*1.2,n.h(i,i,e)):(o=t*.42,n.g([0,0,t,0,t,t-o*2,t-o,t,0,t]))}function q(s,n,t){s=s%4;let r;s?s==1?n.j(0,t/2,t,t/2,0):s==2?n.K(0,0,t,t):(r=t/6,n.h(r,r,t-2*r)):n.j(0,0,t,t,0)}function nt(s,n){return s=n.W(s),[N(s,n.D,n.F(0)),N(s,n.o,n.p(.5)),N(s,n.D,n.F(1)),N(s,n.o,n.p(1)),N(s,n.o,n.p(0))]}function M(s,n,t){const r=V(t,.08);r.G&&s.m(r.G);let o=s.k;const i=.5+o*r.X|0;o-=i*2;const e=new l(s),h=0|o/4,u=0|i+o/2-h*2,f=0|i+o/2-h*2;function g(p,w,I,v,P){const $=S(n,I,1);let J=v?S(n,v,1):0;s.L(c[d[p]]);for(let T=0;T<P.length;T++)e.u=new Y(u+P[T][0]*h,f+P[T][1]*h,h,J++%4),w($,e,h,T);s.M()}const b=S(n,-7)/268435455,c=nt(b,r),d=[];let a;function m(p){if(p.indexOf(a)>=0){for(let w=0;w<p.length;w++)if(d.indexOf(p[w])>=0)return!0}}for(let p=0;p<3;p++)a=S(n,8+p,1)%c.length,(m([0,4])||m([2,3]))&&(a=1),d.push(a);g(0,q,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]),g(1,q,4,5,[[0,0],[3,0],[3,3],[0,3]]),g(2,tt,1,null,[[1,1],[2,1],[2,2],[1,2]]),s.finish()}function st(s){const n=40,t=16;var r=0,o=0,i=encodeURI(s)+"%80",e=[],h,u=[],f=1732584193,g=4023233417,b=~f,c=~g,d=3285377520,a=[f,g,b,c,d],m=0,p="";function w(I,v){return I<<v|I>>>32-v}for(;r<i.length;o++)e[o>>2]=e[o>>2]|(i[r]=="%"?parseInt(i.substring(r+1,r+=3),16):i.charCodeAt(r++))<<(3-(o&3))*8;for(h=((o+7>>6)+1)*t,e[h-1]=o*8-8;m<h;m+=t){for(r=0;r<80;r++)o=w(f,5)+d+(r<20?(g&b^~g&c)+1518500249:r<40?(g^b^c)+1859775393:r<60?(g&b^g&c^b&c)+2400959708:(g^b^c)+3395469782)+(u[r]=r<t?e[m+r]|0:w(u[r-3]^u[r-8]^u[r-14]^u[r-16],1)),d=c,c=b,b=w(g,30),g=f,f=o;a[0]=f=a[0]+f|0,a[1]=g=a[1]+g|0,a[2]=b=a[2]+b|0,a[3]=c=a[3]+c|0,a[4]=d=a[4]+d|0}for(r=0;r<n;r++)p+=(a[r>>3]>>>(7-(r&7))*4&15).toString(16);return p}function E(s){return/^[0-9a-f]{11,}$/i.test(s)&&s}function _(s){return st(s==null?"":""+s)}class k{constructor(n,t){const r=n.canvas,o=r.width,i=r.height;n.save(),t||(t=Math.min(o,i),n.translate((o-t)/2|0,(i-t)/2|0)),this.l=n,this.k=t,n.clearRect(0,0,t,t)}m(n){const t=this.l,r=this.k;t.fillStyle=L(n),t.fillRect(0,0,r,r)}L(n){const t=this.l;t.fillStyle=L(n),t.beginPath()}M(){this.l.fill()}g(n){const t=this.l;t.moveTo(n[0].x,n[0].y);for(let r=1;r<n.length;r++)t.lineTo(n[r].x,n[r].y);t.closePath()}h(n,t,r){const o=this.l,i=t/2;o.moveTo(n.x+i,n.y+i),o.arc(n.x+i,n.y+i,i,0,Math.PI*2,r),o.closePath()}finish(){this.l.restore()}}function ft(s,n,t,r){if(!s)throw new Error("No canvas specified.");M(new k(s,t),E(n)||_(n),r)}function A(s){return(s*10+.5|0)/10}class rt{constructor(){this.v=""}g(n){let t="";for(let r=0;r<n.length;r++)t+=(r?"L":"M")+A(n[r].x)+" "+A(n[r].y);this.v+=t+"Z"}h(n,t,r){const o=r?0:1,i=A(t/2),e=A(t),h="a"+i+","+i+" 0 1,"+o+" ";this.v+="M"+A(n.x)+" "+A(n.y+t/2)+h+e+",0"+h+-e+",0"}}class F{constructor(n){this.A,this.B={},this.N=n,this.k=n.k}m(n){const t=/^(#......)(..)?/.exec(n),r=t[2]?S(t[2],0)/255:1;this.N.m(t[1],r)}L(n){this.A=this.B[n]||(this.B[n]=new rt)}M(){}g(n){this.A.g(n)}h(n,t,r){this.A.h(n,t,r)}finish(){const n=this.B;for(let t in n)n.hasOwnProperty(t)&&this.N.O(t,n[t].v)}}const C={P:"http://www.w3.org/2000/svg",R:"width",S:"height"};class ot{constructor(n){this.k=n,this.C='<svg xmlns="'+C.P+'" width="'+n+'" height="'+n+'" viewBox="0 0 '+n+" "+n+'">'}m(n,t){t&&(this.C+='<rect width="100%" height="100%" fill="'+n+'" opacity="'+t.toFixed(2)+'"/>')}O(n,t){this.C+='<path fill="'+n+'" d="'+t+'"/>'}toString(){return this.C+"</svg>"}}function ut(s,n,t){const r=new ot(n);return M(new F(r),E(s)||_(s),t),r.toString()}const G=1,U=2,O={Z:"data-jdenticon-hash",T:"data-jdenticon-value"},Z=typeof document!="undefined"&&document.querySelectorAll.bind(document);function it(s){if(s){const n=s.tagName;if(/^svg$/i.test(n))return G;if(/^canvas$/i.test(n)&&"getContext"in s)return U}}function K(s,n,...t){const r=document.createElementNS(C.P,n);for(let o=0;o+1<t.length;o+=2)r.setAttribute(t[o],t[o+1]);s.appendChild(r)}class W{constructor(n){const t=this.k=Math.min(Number(n.getAttribute(C.R))||100,Number(n.getAttribute(C.S))||100);for(this.U=n;n.firstChild;)n.removeChild(n.firstChild);n.setAttribute("viewBox","0 0 "+t+" "+t),n.setAttribute("preserveAspectRatio","xMidYMid meet")}m(n,t){t&&K(this.U,"rect",C.R,"100%",C.S,"100%","fill",n,"opacity",t)}O(n,t){K(this.U,"path","fill",n,"d",t)}}function ht(s,n,t){H(s,n,t,function(r,o){if(o)return o==G?new F(new W(r)):new k(r.getContext("2d"))})}function at(s,n,t){H(s,n,t,function(r,o){if(o==U)return new k(r.getContext("2d"))})}function ct(s,n,t){H(s,n,t,function(r,o){if(o==G)return new F(new W(r))})}function H(s,n,t,r){if(typeof s=="string"){if(Z){const e=Z(s);for(let h=0;h<e.length;h++)H(e[h],n,t,r)}return}const o=E(n)||n!=null&&_(n)||E(s.getAttribute(O.Z))||s.hasAttribute(O.T)&&_(s.getAttribute(O.T));if(!o)return;const i=r(s,it(s));i&&M(i,o,t)}const dt="3.2.0",gt="browser-esm";export{gt as bundle,et as configure,ft as drawIcon,ut as toSvg,ht as update,at as updateCanvas,ct as updateSvg,dt as version};
